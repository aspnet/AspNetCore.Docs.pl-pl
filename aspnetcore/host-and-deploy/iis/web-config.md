---
title: Plik web.config
author: rick-anderson
description: Odkryj, co znajduje się w pliku web.config i jak skonfigurować różne opcje modułu ASP.NET Core.
monikerRange: '>= aspnetcore-5.0'
ms.author: riande
ms.custom: mvc
ms.date: 02/07/2020
no-loc:
- ':::no-loc(appsettings.json):::'
- ':::no-loc(ASP.NET Core Identity):::'
- ':::no-loc(cookie):::'
- ':::no-loc(Cookie):::'
- ':::no-loc(Blazor):::'
- ':::no-loc(Blazor Server):::'
- ':::no-loc(Blazor WebAssembly):::'
- ':::no-loc(Identity):::'
- ":::no-loc(Let's Encrypt):::"
- ':::no-loc(Razor):::'
- ':::no-loc(SignalR):::'
uid: host-and-deploy/iis/web-config
ms.openlocfilehash: edeef31042547db79fcec98f1236787f78e187a5
ms.sourcegitcommit: ca34c1ac578e7d3daa0febf1810ba5fc74f60bbf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/30/2020
ms.locfileid: "93057287"
---
# <a name="webconfig-file"></a><span data-ttu-id="c8ddb-103">`web.config` rozszerzeniem</span><span class="sxs-lookup"><span data-stu-id="c8ddb-103">`web.config` file</span></span>

<span data-ttu-id="c8ddb-104">`web.config`To plik, który jest odczytywany przez usługi IIS i [moduł ASP.NET Core](xref:host-and-deploy/aspnet-core-module) w celu skonfigurowania aplikacji hostowanej za pomocą usług IIS.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-104">The `web.config` is a file that is read by IIS and the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) to configure an app hosted with IIS.</span></span>

## <a name="webconfig-file-location"></a><span data-ttu-id="c8ddb-105">`web.config` Lokalizacja pliku</span><span class="sxs-lookup"><span data-stu-id="c8ddb-105">`web.config` file location</span></span>

<span data-ttu-id="c8ddb-106">Aby prawidłowo skonfigurować [moduł ASP.NET Core](xref:host-and-deploy/aspnet-core-module) , `web.config` plik musi być obecny w ścieżce [katalogu głównego zawartości](xref:fundamentals/index#content-root) (zazwyczaj ścieżka podstawowa aplikacji) wdrożonej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-106">In order to set up the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) correctly, the `web.config` file must be present at the [content root](xref:fundamentals/index#content-root) path (typically the app base path) of the deployed app.</span></span> <span data-ttu-id="c8ddb-107">Ta sama lokalizacja jest taka sama jak ścieżka fizyczna witryny sieci Web dostarczana do usług IIS.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-107">This is the same location as the website physical path provided to IIS.</span></span> <span data-ttu-id="c8ddb-108">`web.config`Plik jest wymagany w katalogu głównym aplikacji, aby umożliwić Publikowanie wielu aplikacji przy użyciu Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-108">The `web.config` file is required at the root of the app to enable the publishing of multiple apps using Web Deploy.</span></span>

<span data-ttu-id="c8ddb-109">Poufne pliki znajdują się w ścieżce fizycznej aplikacji, takiej jak `{ASSEMBLY}.runtimeconfig.json` , `{ASSEMBLY}.xml` (Komentarze dokumentacji XML) i `{ASSEMBLY}.deps.json` , gdzie symbol zastępczy `{ASSEMBLY}` jest nazwą zestawu.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-109">Sensitive files exist on the app's physical path, such as `{ASSEMBLY}.runtimeconfig.json`, `{ASSEMBLY}.xml` (XML Documentation comments), and `{ASSEMBLY}.deps.json`, where the placeholder `{ASSEMBLY}` is the assembly name.</span></span> <span data-ttu-id="c8ddb-110">Gdy `web.config` plik jest obecny, a lokacja jest uruchamiana normalnie, usługi IIS nie będą obsługiwały tych poufnych plików, jeśli są żądane.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-110">When the `web.config` file is present and the site starts normally, IIS doesn't serve these sensitive files if they're requested.</span></span> <span data-ttu-id="c8ddb-111">Jeśli `web.config` brakuje pliku lub nie można skonfigurować lokacji do normalnego uruchamiania, usługi IIS mogą publicznie obsłużyć poufne pliki.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-111">If the `web.config` file is missing, incorrectly named, or unable to configure the site for normal startup, IIS may serve sensitive files publicly.</span></span>

<span data-ttu-id="c8ddb-112">**`web.config`Plik musi być obecny we wdrożeniu przez cały czas, prawidłowo nazwany i można skonfigurować lokację pod kątem normalnego uruchamiania. Nigdy nie należy usuwać `web.config` pliku z wdrożenia produkcyjnego.**</span><span class="sxs-lookup"><span data-stu-id="c8ddb-112">**The `web.config` file must be present in the deployment at all times, correctly named, and able to configure the site for normal start up. Never remove the `web.config` file from a production deployment.**</span></span>

<span data-ttu-id="c8ddb-113">Jeśli `web.config` plik nie jest obecny w projekcie, plik zostanie utworzony z prawidłowym `processPath` i `arguments` w celu skonfigurowania modułu ASP.NET Core i przeniesiona do [publikowanych danych wyjściowych](xref:host-and-deploy/directory-structure).</span><span class="sxs-lookup"><span data-stu-id="c8ddb-113">If a `web.config` file isn't present in the project, the file is created with the correct `processPath` and `arguments` to configure the ASP.NET Core Module and moved to [published output](xref:host-and-deploy/directory-structure).</span></span>

<span data-ttu-id="c8ddb-114">Jeśli `web.config` plik jest obecny w projekcie, plik zostanie przekształcony z prawidłowym `processPath` i `arguments` skonfigurowanym modułem ASP.NET Core i przeniesiony do publikowanych danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-114">If a `web.config` file is present in the project, the file is transformed with the correct `processPath` and `arguments` to configure the ASP.NET Core Module and moved to published output.</span></span> <span data-ttu-id="c8ddb-115">Transformacja nie modyfikuje ustawień konfiguracji usług IIS w pliku.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-115">The transformation doesn't modify IIS configuration settings in the file.</span></span>

<span data-ttu-id="c8ddb-116">`web.config`Plik może zapewnić dodatkowe ustawienia konfiguracji usług IIS kontrolujące aktywne moduły usług IIS.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-116">The `web.config` file may provide additional IIS configuration settings that control active IIS modules.</span></span> <span data-ttu-id="c8ddb-117">Aby uzyskać informacje na temat modułów usług IIS, które mogą przetwarzać żądania z aplikacjami ASP.NET Core, zobacz temat [moduły usług IIS](xref:host-and-deploy/iis/modules) .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-117">For information on IIS modules that are capable of processing requests with ASP.NET Core apps, see the [IIS modules](xref:host-and-deploy/iis/modules) topic.</span></span>

<span data-ttu-id="c8ddb-118">Tworzenie, przekształcanie i publikowanie `web.config` pliku jest obsługiwane przez obiekt docelowy programu MSBuild (), `_TransformWebConfig` gdy projekt jest publikowany.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-118">Creating, transforming, and publishing the `web.config` file is handled by an MSBuild target (`_TransformWebConfig`) when the project is published.</span></span> <span data-ttu-id="c8ddb-119">Ten element docelowy znajduje się w obiektach docelowych zestawu SDK sieci Web ( `Microsoft.NET.Sdk.Web` ).</span><span class="sxs-lookup"><span data-stu-id="c8ddb-119">This target is present in the Web SDK targets (`Microsoft.NET.Sdk.Web`).</span></span> <span data-ttu-id="c8ddb-120">Zestaw SDK jest ustawiany u góry pliku projektu:</span><span class="sxs-lookup"><span data-stu-id="c8ddb-120">The SDK is set at the top of the project file:</span></span>

```xml
<Project Sdk="Microsoft.NET.Sdk.Web">
```

<span data-ttu-id="c8ddb-121">Aby uniemożliwić przekształcanie plików przez zestaw SDK sieci Web `web.config` , należy użyć `<IsTransformWebConfigDisabled>` właściwości w pliku projektu:</span><span class="sxs-lookup"><span data-stu-id="c8ddb-121">To prevent the Web SDK from transforming the `web.config` file, use the `<IsTransformWebConfigDisabled>` property in the project file:</span></span>

```xml
<PropertyGroup>
  <IsTransformWebConfigDisabled>true</IsTransformWebConfigDisabled>
</PropertyGroup>
```

<span data-ttu-id="c8ddb-122">Podczas wyłączania pliku zestawu SDK sieci Web przy użyciu programu `processPath` i `arguments` powinien zostać ręcznie ustawiony przez dewelopera.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-122">When disabling the Web SDK from transforming the file, the `processPath` and `arguments` should be manually set by the developer.</span></span> <span data-ttu-id="c8ddb-123">Aby uzyskać więcej informacji, zobacz <xref:host-and-deploy/aspnet-core-module>.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-123">For more information, see <xref:host-and-deploy/aspnet-core-module>.</span></span>

## <a name="configuration-of-aspnet-core-module-with-webconfig"></a><span data-ttu-id="c8ddb-124">Konfiguracja modułu ASP.NET Core za pomocą `web.config`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-124">Configuration of ASP.NET Core Module with `web.config`</span></span>

<span data-ttu-id="c8ddb-125">Moduł ASP.NET Core jest skonfigurowany z `aspNetCore` sekcją `system.webServer` węzła w `web.config` pliku witryny.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-125">The ASP.NET Core Module is configured with the `aspNetCore` section of the `system.webServer` node in the site's `web.config` file.</span></span>

<span data-ttu-id="c8ddb-126">Następujący `web.config` plik jest publikowany dla [wdrożenia zależnego od platformy](/dotnet/articles/core/deploying/#framework-dependent-deployments-fdd) i konfiguruje moduł ASP.NET Core do obsługi żądań lokacji:</span><span class="sxs-lookup"><span data-stu-id="c8ddb-126">The following `web.config` file is published for a [framework-dependent deployment](/dotnet/articles/core/deploying/#framework-dependent-deployments-fdd) and configures the ASP.NET Core Module to handle site requests:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <location path="." inheritInChildApplications="false">
    <system.webServer>
      <handlers>
        <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
      </handlers>
      <aspNetCore processPath="dotnet"
                  arguments=".\MyApp.dll"
                  stdoutLogEnabled="false"
                  stdoutLogFile=".\logs\stdout"
                  hostingModel="inprocess" />
    </system.webServer>
  </location>
</configuration>
```

<span data-ttu-id="c8ddb-127">Następujące elementy `web.config` zostały opublikowane w ramach [wdrożenia samodzielnego](/dotnet/articles/core/deploying/#self-contained-deployments-scd):</span><span class="sxs-lookup"><span data-stu-id="c8ddb-127">The following `web.config` is published for a [self-contained deployment](/dotnet/articles/core/deploying/#self-contained-deployments-scd):</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <location path="." inheritInChildApplications="false">
    <system.webServer>
      <handlers>
        <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
      </handlers>
      <aspNetCore processPath=".\MyApp.exe"
                  stdoutLogEnabled="false"
                  stdoutLogFile=".\logs\stdout"
                  hostingModel="inprocess" />
    </system.webServer>
  </location>
</configuration>
```

<span data-ttu-id="c8ddb-128"><xref:System.Configuration.SectionInformation.InheritInChildApplications%2A>Właściwość jest ustawiona na `false` , aby wskazać, że ustawienia określone w [`<location>`](/iis/manage/managing-your-configuration-settings/understanding-iis-configuration-delegation#the-concept-of-location) elemencie nie są dziedziczone przez aplikacje, które znajdują się w podkatalogu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-128">The <xref:System.Configuration.SectionInformation.InheritInChildApplications%2A> property is set to `false` to indicate that the settings specified within the [`<location>`](/iis/manage/managing-your-configuration-settings/understanding-iis-configuration-delegation#the-concept-of-location) element aren't inherited by apps that reside in a subdirectory of the app.</span></span>

<span data-ttu-id="c8ddb-129">Gdy aplikacja zostanie wdrożona do [Azure App Service](https://azure.microsoft.com/services/app-service/), `stdoutLogFile` ścieżka jest ustawiona na `\\?\%home%\LogFiles\stdout` .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-129">When an app is deployed to [Azure App Service](https://azure.microsoft.com/services/app-service/), the `stdoutLogFile` path is set to `\\?\%home%\LogFiles\stdout`.</span></span> <span data-ttu-id="c8ddb-130">Ścieżka zapisuje dzienniki stdout do `LogFiles` folderu, który jest lokalizacją automatycznie utworzoną przez usługę.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-130">The path saves stdout logs to the `LogFiles` folder, which is a location automatically created by the service.</span></span>

<span data-ttu-id="c8ddb-131">Aby uzyskać informacje na temat konfiguracji aplikacji podrzędnych usług IIS, zobacz <xref:host-and-deploy/iis/index#sub-applications> .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-131">For information on IIS sub-application configuration, see <xref:host-and-deploy/iis/index#sub-applications>.</span></span>

### <a name="attributes-of-the-aspnetcore-element"></a><span data-ttu-id="c8ddb-132">Atrybuty `aspNetCore` elementu</span><span class="sxs-lookup"><span data-stu-id="c8ddb-132">Attributes of the `aspNetCore` element</span></span>

| <span data-ttu-id="c8ddb-133">Atrybut</span><span class="sxs-lookup"><span data-stu-id="c8ddb-133">Attribute</span></span> | <span data-ttu-id="c8ddb-134">Opis</span><span class="sxs-lookup"><span data-stu-id="c8ddb-134">Description</span></span> | <span data-ttu-id="c8ddb-135">Domyślne</span><span class="sxs-lookup"><span data-stu-id="c8ddb-135">Default</span></span> |
| --------- | ----------- | :-----: |
| `arguments` | <p><span data-ttu-id="c8ddb-136">Opcjonalny atrybut ciągu.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-136">Optional string attribute.</span></span></p><p><span data-ttu-id="c8ddb-137">Argumenty do pliku wykonywalnego określonego w `processPath` .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-137">Arguments to the executable specified in `processPath`.</span></span></p> | |
| `disableStartUpErrorPage` | <p><span data-ttu-id="c8ddb-138">Opcjonalny atrybut Boolean.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-138">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="c8ddb-139">W przypadku wartości true strona **niepowodzenie procesu 502,5** jest pomijana, a strona kodowa stanu 502 jest skonfigurowana w ramach `web.config` pierwszeństwa.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-139">If true, the **502.5 - Process Failure** page is suppressed, and the 502 status code page configured in the `web.config` takes precedence.</span></span></p> | `false` |
| `forwardWindowsAuthToken` | <p><span data-ttu-id="c8ddb-140">Opcjonalny atrybut Boolean.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-140">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="c8ddb-141">Jeśli wartość jest równa true, token jest przekazywany do procesu podrzędnego, który nasłuchuje w `%ASPNETCORE_PORT%` formie nagłówka "MS-ASPNETCORE-WINAUTHTOKEN" na żądanie.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-141">If true, the token is forwarded to the child process listening on `%ASPNETCORE_PORT%` as a header 'MS-ASPNETCORE-WINAUTHTOKEN' per request.</span></span> <span data-ttu-id="c8ddb-142">Jest odpowiedzialny za ten proces, aby wywołać metodę CloseHandle na tym tokenie na żądanie.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-142">It's the responsibility of that process to call CloseHandle on this token per request.</span></span></p> | `true` |
| `hostingModel` | <p><span data-ttu-id="c8ddb-143">Opcjonalny atrybut ciągu.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-143">Optional string attribute.</span></span></p><p><span data-ttu-id="c8ddb-144">Określa model hostingu jako proces ( `InProcess` / `inprocess` ) lub out-of-Process ( `OutOfProcess` / `outofprocess` ).</span><span class="sxs-lookup"><span data-stu-id="c8ddb-144">Specifies the hosting model as in-process (`InProcess`/`inprocess`) or out-of-process (`OutOfProcess`/`outofprocess`).</span></span></p> | `InProcess`<br>`inprocess` |
| `processesPerApplication` | <p><span data-ttu-id="c8ddb-145">Opcjonalny atrybut Integer.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-145">Optional integer attribute.</span></span></p><p><span data-ttu-id="c8ddb-146">Określa liczbę wystąpień procesu określonego w `processPath` ustawieniu, które może być przypadające na aplikację.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-146">Specifies the number of instances of the process specified in the `processPath` setting that can be spun up per app.</span></span></p><p><span data-ttu-id="c8ddb-147">&dagger;W przypadku hostingu w procesie wartość jest ograniczona do `1` .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-147">&dagger;For in-process hosting, the value is limited to `1`.</span></span></p><p><span data-ttu-id="c8ddb-148">Ustawienie `processesPerApplication` jest niezalecane.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-148">Setting `processesPerApplication` is discouraged.</span></span> <span data-ttu-id="c8ddb-149">Ten atrybut zostanie usunięty w przyszłych wydaniach.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-149">This attribute will be removed in a future release.</span></span></p> | <span data-ttu-id="c8ddb-150">Wartooć `1`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-150">Default: `1`</span></span><br><span data-ttu-id="c8ddb-151">Długości `1`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-151">Min: `1`</span></span><br><span data-ttu-id="c8ddb-152">Maksymalny `100`&dagger;</span><span class="sxs-lookup"><span data-stu-id="c8ddb-152">Max: `100`&dagger;</span></span> |
| `processPath` | <p><span data-ttu-id="c8ddb-153">Wymagany atrybut ciągu.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-153">Required string attribute.</span></span></p><p><span data-ttu-id="c8ddb-154">Ścieżka do pliku wykonywalnego, który uruchamia proces nasłuchiwanie żądań HTTP.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-154">Path to the executable that launches a process listening for HTTP requests.</span></span> <span data-ttu-id="c8ddb-155">Obsługiwane są ścieżki względne.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-155">Relative paths are supported.</span></span> <span data-ttu-id="c8ddb-156">Jeśli ścieżka zaczyna się od `.` , ścieżka jest uznawana za względną względem katalogu głównego witryny.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-156">If the path begins with `.`, the path is considered to be relative to the site root.</span></span></p> | |
| `rapidFailsPerMinute` | <p><span data-ttu-id="c8ddb-157">Opcjonalny atrybut Integer.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-157">Optional integer attribute.</span></span></p><p><span data-ttu-id="c8ddb-158">Określa, ile razy proces określony w programie `processPath` może ulec awarii na minutę.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-158">Specifies the number of times the process specified in `processPath` is allowed to crash per minute.</span></span> <span data-ttu-id="c8ddb-159">W przypadku przekroczenia tego limitu moduł przestaje uruchomić proces przez pozostałą część minuty.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-159">If this limit is exceeded, the module stops launching the process for the remainder of the minute.</span></span></p><p><span data-ttu-id="c8ddb-160">Nieobsługiwane w przypadku hostingu w procesie.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-160">Not supported with in-process hosting.</span></span></p> | <span data-ttu-id="c8ddb-161">Wartooć `10`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-161">Default: `10`</span></span><br><span data-ttu-id="c8ddb-162">Długości `0`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-162">Min: `0`</span></span><br><span data-ttu-id="c8ddb-163">Maksymalny `100`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-163">Max: `100`</span></span> |
| `requestTimeout` | <p><span data-ttu-id="c8ddb-164">Opcjonalny atrybut TimeSpan.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-164">Optional timespan attribute.</span></span></p><p><span data-ttu-id="c8ddb-165">Określa czas, przez który moduł ASP.NET Core czeka na odpowiedź z procesu nasłuchiwania na% ASPNETCORE_PORT%.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-165">Specifies the duration for which the ASP.NET Core Module waits for a response from the process listening on %ASPNETCORE_PORT%.</span></span></p><p><span data-ttu-id="c8ddb-166">W wersjach modułu ASP.NET Core, który został dostarczony z wersją ASP.NET Core 2,1 lub nowszą, wartość `requestTimeout` jest określona w godzinach, minutach i sekundach.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-166">In versions of the ASP.NET Core Module that shipped with the release of ASP.NET Core 2.1 or later, the `requestTimeout` is specified in hours, minutes, and seconds.</span></span></p><p><span data-ttu-id="c8ddb-167">Nie dotyczy hostingu w procesie.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-167">Doesn't apply to in-process hosting.</span></span> <span data-ttu-id="c8ddb-168">W przypadku hostingu w procesie moduł czeka na aplikację w celu przetworzenia żądania.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-168">For in-process hosting, the module waits for the app to process the request.</span></span></p><p><span data-ttu-id="c8ddb-169">Prawidłowe wartości segmentów minut i sekund ciągu mieszczą się w zakresie 0-59.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-169">Valid values for minutes and seconds segments of the string are in the range 0-59.</span></span> <span data-ttu-id="c8ddb-170">Użycie `60` wartości w minutach lub sekundach powoduje *błąd 500-wewnętrzny serwera* .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-170">Use of `60` in the value for minutes or seconds results in a *500 - Internal Server Error* .</span></span></p> | <span data-ttu-id="c8ddb-171">Wartooć `00:02:00`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-171">Default: `00:02:00`</span></span><br><span data-ttu-id="c8ddb-172">Długości `00:00:00`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-172">Min: `00:00:00`</span></span><br><span data-ttu-id="c8ddb-173">Maksymalny `360:00:00`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-173">Max: `360:00:00`</span></span> |
| `shutdownTimeLimit` | <p><span data-ttu-id="c8ddb-174">Opcjonalny atrybut Integer.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-174">Optional integer attribute.</span></span></p><p><span data-ttu-id="c8ddb-175">Czas w sekundach, przez który moduł czeka na łagodne zamknięcie pliku wykonywalnego, gdy `app_offline.htm` zostanie wykryty.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-175">Duration in seconds that the module waits for the executable to gracefully shutdown when the `app_offline.htm` file is detected.</span></span></p> | <span data-ttu-id="c8ddb-176">Wartooć `10`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-176">Default: `10`</span></span><br><span data-ttu-id="c8ddb-177">Długości `0`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-177">Min: `0`</span></span><br><span data-ttu-id="c8ddb-178">Maksymalny `600`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-178">Max: `600`</span></span> |
| `startupTimeLimit` | <p><span data-ttu-id="c8ddb-179">Opcjonalny atrybut Integer.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-179">Optional integer attribute.</span></span></p><p><span data-ttu-id="c8ddb-180">Czas w sekundach, przez który moduł czeka, aż plik wykonywalny uruchomi proces nasłuchujący na porcie.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-180">Duration in seconds that the module waits for the executable to start a process listening on the port.</span></span> <span data-ttu-id="c8ddb-181">Jeśli ten limit czasu zostanie przekroczony, moduł zakasuje proces.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-181">If this time limit is exceeded, the module kills the process.</span></span></p><p><span data-ttu-id="c8ddb-182">Podczas hostingu *w procesie* : proces **nie** jest ponownie uruchamiany i **nie używa tego** `rapidFailsPerMinute` Ustawienia.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-182">When hosting *in-process* : The process is **not** restarted and does **not** use the `rapidFailsPerMinute` setting.</span></span></p><p><span data-ttu-id="c8ddb-183">Podczas hostingu *poza procesem* : moduł próbuje ponownie uruchomić proces, gdy odbierze nowe żądanie, i kontynuuje próbę ponownego uruchomienia procesu na kolejnych żądaniach przychodzących, chyba że aplikacja nie powiedzie się `rapidFailsPerMinute` w ciągu ostatniej minuty.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-183">When hosting *out-of-process* : The module attempts to relaunch the process when it receives a new request and continues to attempt to restart the process on subsequent incoming requests unless the app fails to start `rapidFailsPerMinute` number of times in the last rolling minute.</span></span></p><p><span data-ttu-id="c8ddb-184">Wartość 0 (zero) **nie** jest uważana za nieskończony limit czasu.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-184">A value of 0 (zero) is **not** considered an infinite timeout.</span></span></p> | <span data-ttu-id="c8ddb-185">Wartooć `120`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-185">Default: `120`</span></span><br><span data-ttu-id="c8ddb-186">Długości `0`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-186">Min: `0`</span></span><br><span data-ttu-id="c8ddb-187">Maksymalny `3600`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-187">Max: `3600`</span></span> |
| `stdoutLogEnabled` | <p><span data-ttu-id="c8ddb-188">Opcjonalny atrybut Boolean.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-188">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="c8ddb-189">Jeśli wartość jest równa true, `stdout` a `stderr` dla procesu określonego w programie `processPath` są przekierowywane do pliku określonego w `stdoutLogFile` .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-189">If true, `stdout` and `stderr` for the process specified in `processPath` are redirected to the file specified in `stdoutLogFile`.</span></span></p> | `false` |
| `stdoutLogFile` | <p><span data-ttu-id="c8ddb-190">Opcjonalny atrybut ciągu.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-190">Optional string attribute.</span></span></p><p><span data-ttu-id="c8ddb-191">Określa względną lub bezwzględną ścieżkę do pliku, dla którego `stdout` `stderr` proces określony w `processPath` jest rejestrowany.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-191">Specifies the relative or absolute file path for which `stdout` and `stderr` from the process specified in `processPath` are logged.</span></span> <span data-ttu-id="c8ddb-192">Ścieżki względne są względne względem katalogu głównego witryny.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-192">Relative paths are relative to the root of the site.</span></span> <span data-ttu-id="c8ddb-193">Każda ścieżka rozpoczynająca `.` się od jest określana względem katalogu głównego witryny, a wszystkie inne ścieżki są traktowane jako ścieżki bezwzględne.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-193">Any path starting with `.` are relative to the site root and all other paths are treated as absolute paths.</span></span> <span data-ttu-id="c8ddb-194">Wszystkie foldery podane w ścieżce są tworzone przez moduł po utworzeniu pliku dziennika.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-194">Any folders provided in the path are created by the module when the log file is created.</span></span> <span data-ttu-id="c8ddb-195">Przy użyciu ograniczników podkreślenia, sygnatury czasowej, identyfikatora procesu i rozszerzenia pliku ( `.log` ) są dodawane do ostatniego segmentu `stdoutLogFile` ścieżki.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-195">Using underscore delimiters, a timestamp, process ID, and file extension (`.log`) are added to the last segment of the `stdoutLogFile` path.</span></span> <span data-ttu-id="c8ddb-196">Jeśli `.\logs\stdout` jest podana jako wartość, przykładowy dziennik stdout jest zapisywany jako `stdout_20180205194132_1934.log` w folderze, `logs` gdy zapisywany w dniu 2/5/2018 o godzinie 19:41:32 z identyfikatorem procesu 1934.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-196">If `.\logs\stdout` is supplied as a value, an example stdout log is saved as `stdout_20180205194132_1934.log` in the `logs` folder when saved on 2/5/2018 at 19:41:32 with a process ID of 1934.</span></span></p> | `aspnetcore-stdout` |

### <a name="set-environment-variables"></a><span data-ttu-id="c8ddb-197">Ustawianie zmiennych środowiskowych</span><span class="sxs-lookup"><span data-stu-id="c8ddb-197">Set environment variables</span></span>

<span data-ttu-id="c8ddb-198">Zmienne środowiskowe można określić dla procesu w `processPath` atrybucie.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-198">Environment variables can be specified for the process in the `processPath` attribute.</span></span> <span data-ttu-id="c8ddb-199">Określ zmienną środowiskową z `<environmentVariable>` elementem podrzędnym `<environmentVariables>` elementu kolekcji.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-199">Specify an environment variable with the `<environmentVariable>` child element of an `<environmentVariables>` collection element.</span></span> <span data-ttu-id="c8ddb-200">Zmienne środowiskowe ustawione w tej sekcji mają pierwszeństwo przed zmiennymi środowiskowymi systemowymi.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-200">Environment variables set in this section take precedence over system environment variables.</span></span>

<span data-ttu-id="c8ddb-201">Poniższy przykład ustawia dwie zmienne środowiskowe w `web.config` .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-201">The following example sets two environment variables in `web.config`.</span></span> <span data-ttu-id="c8ddb-202">`ASPNETCORE_ENVIRONMENT` konfiguruje środowisko aplikacji do programu `Development` .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-202">`ASPNETCORE_ENVIRONMENT` configures the app's environment to `Development`.</span></span> <span data-ttu-id="c8ddb-203">Deweloper może tymczasowo ustawić tę wartość w pliku, `web.config` Aby wymusić ładowanie [strony wyjątku dewelopera](xref:fundamentals/error-handling) podczas debugowania wyjątku aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-203">A developer may temporarily set this value in the `web.config` file in order to force the [Developer Exception Page](xref:fundamentals/error-handling) to load when debugging an app exception.</span></span> <span data-ttu-id="c8ddb-204">`CONFIG_DIR` to przykład zmiennej środowiskowej zdefiniowanej przez użytkownika, w której deweloper ma napisać kod, który odczytuje wartość przy uruchamianiu, aby utworzyć ścieżkę do ładowania pliku konfiguracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-204">`CONFIG_DIR` is an example of a user-defined environment variable, where the developer has written code that reads the value on startup to form a path for loading the app's configuration file.</span></span>

```xml
<aspNetCore processPath="dotnet"
      arguments=".\MyApp.dll"
      stdoutLogEnabled="false"
      stdoutLogFile=".\logs\stdout"
      hostingModel="inprocess">
  <environmentVariables>
    <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
    <environmentVariable name="CONFIG_DIR" value="f:\application_config" />
  </environmentVariables>
</aspNetCore>
```

> [!NOTE]
> <span data-ttu-id="c8ddb-205">Alternatywą dla ustawienia środowiska bezpośrednio w programie `web.config` jest uwzględnienie `<EnvironmentName>` właściwości w [profilu publikacji ( `.pubxml` )](xref:host-and-deploy/visual-studio-publish-profiles) lub w pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-205">An alternative to setting the environment directly in `web.config` is to include the `<EnvironmentName>` property in the [publish profile (`.pubxml`)](xref:host-and-deploy/visual-studio-publish-profiles) or project file.</span></span> <span data-ttu-id="c8ddb-206">To podejście ustawia środowisko w `web.config` momencie opublikowania projektu:</span><span class="sxs-lookup"><span data-stu-id="c8ddb-206">This approach sets the environment in `web.config` when the project is published:</span></span>
>
> ```xml
> <PropertyGroup>
>   <EnvironmentName>Development</EnvironmentName>
> </PropertyGroup>
> ```

> [!WARNING]
> <span data-ttu-id="c8ddb-207">Dla `ASPNETCORE_ENVIRONMENT` zmiennej środowiskowej należy ustawić tylko `Development` serwery przejściowe i testowe, które nie są dostępne dla niezaufanych sieci, takich jak Internet.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-207">Only set the `ASPNETCORE_ENVIRONMENT` environment variable to `Development` on staging and testing servers that aren't accessible to untrusted networks, such as the Internet.</span></span>

## <a name="configuration-of-iis-with-webconfig"></a><span data-ttu-id="c8ddb-208">Konfiguracja usług IIS z `web.config`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-208">Configuration of IIS with `web.config`</span></span>

<span data-ttu-id="c8ddb-209">Na konfigurację usług IIS wpływa `<system.webServer>` sekcja programu `web.config` dla scenariuszy usług IIS, które są funkcjonalne dla ASP.NET Core aplikacji z modułem ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-209">IIS configuration is influenced by the `<system.webServer>` section of `web.config` for IIS scenarios that are functional for ASP.NET Core apps with the ASP.NET Core Module.</span></span> <span data-ttu-id="c8ddb-210">Na przykład konfiguracja usług IIS jest funkcjonalna dla kompresji dynamicznej.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-210">For example, IIS configuration is functional for dynamic compression.</span></span> <span data-ttu-id="c8ddb-211">Jeśli usługi IIS są skonfigurowane na poziomie serwera do korzystania z kompresji dynamicznej, `<urlCompression>` element w `web.config` pliku aplikacji może go wyłączyć dla aplikacji ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-211">If IIS is configured at the server level to use dynamic compression, the `<urlCompression>` element in the app's `web.config` file can disable it for an ASP.NET Core app.</span></span>

<span data-ttu-id="c8ddb-212">Aby uzyskać więcej informacji, zobacz następujące tematy:</span><span class="sxs-lookup"><span data-stu-id="c8ddb-212">For more information, see the following topics:</span></span>

* [<span data-ttu-id="c8ddb-213">Dokumentacja konfiguracyjna programu `<system.webServer>`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-213">Configuration reference for `<system.webServer>`</span></span>](/iis/configuration/system.webServer/)
* <xref:host-and-deploy/aspnet-core-module>
* <xref:host-and-deploy/iis/modules>

<span data-ttu-id="c8ddb-214">Aby ustawić zmienne środowiskowe dla poszczególnych aplikacji działających w pulach izolowanych aplikacji (obsługiwane dla usług IIS 10,0 lub nowszych), zobacz sekcję *`AppCmd.exe` Command* w temacie [ `<environmentVariables>` zmienne środowiskowe](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) w dokumentacji dotyczącej programu IIS.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-214">To set environment variables for individual apps running in isolated app pools (supported for IIS 10.0 or later), see the *`AppCmd.exe` command* section of the [Environment Variables `<environmentVariables>`](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) topic in the IIS reference documentation.</span></span>

## <a name="configuration-sections-of-webconfig"></a><span data-ttu-id="c8ddb-215">Sekcje konfiguracji programu `web.config`</span><span class="sxs-lookup"><span data-stu-id="c8ddb-215">Configuration sections of `web.config`</span></span>

<span data-ttu-id="c8ddb-216">Sekcje konfiguracyjne aplikacji ASP.NET 4. x w programie `web.config` nie są używane przez aplikacje ASP.NET Core na potrzeby konfiguracji:</span><span class="sxs-lookup"><span data-stu-id="c8ddb-216">Configuration sections of ASP.NET 4.x apps in `web.config` aren't used by ASP.NET Core apps for configuration:</span></span>

* `<system.web>`
* `<appSettings>`
* `<connectionStrings>`
* `<location>`

<span data-ttu-id="c8ddb-217">Aplikacje ASP.NET Core są konfigurowane przy użyciu innych dostawców konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-217">ASP.NET Core apps are configured using other configuration providers.</span></span> <span data-ttu-id="c8ddb-218">Aby uzyskać więcej informacji, zobacz [Konfiguracja](xref:fundamentals/configuration/index).</span><span class="sxs-lookup"><span data-stu-id="c8ddb-218">For more information, see [Configuration](xref:fundamentals/configuration/index).</span></span>

## <a name="transform-webconfig"></a><span data-ttu-id="c8ddb-219">Przekształcanie pliku web.config</span><span class="sxs-lookup"><span data-stu-id="c8ddb-219">Transform web.config</span></span>

<span data-ttu-id="c8ddb-220">Jeśli musisz przekształcić `web.config` przy publikowaniu, zobacz <xref:host-and-deploy/iis/transform-webconfig> .</span><span class="sxs-lookup"><span data-stu-id="c8ddb-220">If you need to transform `web.config` on publish, see <xref:host-and-deploy/iis/transform-webconfig>.</span></span> <span data-ttu-id="c8ddb-221">Może być konieczne przekształcenie `web.config` przy publikowaniu w celu ustawienia zmiennych środowiskowych na podstawie konfiguracji, profilu lub środowiska.</span><span class="sxs-lookup"><span data-stu-id="c8ddb-221">You might need to transform `web.config` on publish to set environment variables based on the configuration, profile, or environment.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c8ddb-222">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="c8ddb-222">Additional resources</span></span>

* [<span data-ttu-id="c8ddb-223">SERWERZE \<system.webServer></span><span class="sxs-lookup"><span data-stu-id="c8ddb-223">IIS \<system.webServer></span></span>](/iis/configuration/system.webServer/)
* <xref:host-and-deploy/iis/modules>
* <xref:host-and-deploy/iis/transform-webconfig>
